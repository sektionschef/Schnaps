function getRandomFromInterval(e,t){return fxrand()*(t-e)+e}function getRandomFromList(e){return e[Math.floor(fxrand()*e.length)]}function distortColor(e,t){void 0===t&&(t=10);let r=e.levels[0]+getRandomFromInterval(-t,t),o=e.levels[1]+getRandomFromInterval(-t,t),n=e.levels[2]+getRandomFromInterval(-t,t),a=e.levels[3];return r=Math.min(Math.max(parseInt(r),0),255),o=Math.min(Math.max(parseInt(o),0),255),n=Math.min(Math.max(parseInt(n),0),255),color(r,o,n,a)}function brightenColor(e,t){return colorMode(HSB),brightnessNew=brightness(e)+getRandomFromInterval(-t,t),resultingColor=color(hue(e),saturation(e),brightnessNew),colorMode(RGB),resultingColor}function brightenColorStatic(e,t){return colorMode(HSB),brightnessNew=brightness(e)+t,resultingColor=color(hue(e),saturation(e),brightnessNew),colorMode(RGB),resultingColor}function saturateColorStatic(e,t){return colorMode(HSB),saturationNew=saturation(e)+t,resultingColor=color(hue(e),saturationNew,brightness(e)),colorMode(RGB),resultingColor}function lessenColor(e,t){let r=getRandomFromInterval(0,-t),o=e.levels[0],n=e.levels[1],a=e.levels[2],i=constrain(e.levels[3]+r,0,255);return color(o,n,a,i)}function fromHSBtoRGB(e){return colorMode(RGB),color(red(e),green(e),blue(e))}function scaleDynamically(){scaleRatio=1,exportRatio=5,dynamicWidthRatio=exportPaper.width/windowWidth,dynamicHeightRatio=exportPaper.height/windowHeight,dynamicWidthRatio>dynamicHeightRatio?(logging.debug("Width is smaller than height. Width dominates"),exportRatio=dynamicWidthRatio):(logging.debug("width is larger than height. Height dominates."),exportRatio=dynamicHeightRatio),rescaling_width=exportPaper.width/exportRatio.toFixed(2),rescaling_height=exportPaper.height/exportRatio.toFixed(2)}function windowResized(){logging.debug("Window is resized."),scaleDynamically(),resizeCanvas(rescaling_width,rescaling_height),buffer=createGraphics(rescaling_width,rescaling_height),1==CANVASAGENT&&(canvasAgent=new DumbAgent(CanvasAgentData)),agentPaint1=new DumbAgent(agentPaintData1),agentPaint2=new DumbAgent(agentPaintData2),backgroundSphere=new paintedSphere(backgroundSphereData),frontGrid=new IntersectGrid(frontGridData),backGrid=new IntersectGrid(backGridData),1==RANDOMSPHERES&&(randomSpheres=new RandomPaintedSpheres(randomSphereData)),draw()}function keyTyped(){"e"===key||"E"==key?exportHighResolution():"r"===key||key}function label_feature(e,t,r){let o,n=(r-t)/3;return o=e<t+n?"low":e<t+2*n?"medium":"high",o}function hashFnv32a(e,t,r){var o,n,a=void 0===r?2166136261:r;for(o=0,n=e.length;o<n;o++)a^=e.charCodeAt(o),a+=(a<<1)+(a<<4)+(a<<7)+(a<<8)+(a<<24);return t?("0000000"+(a>>>0).toString(16)).substr(-8):a>>>0}function exportHighResolution(){scaleRatio=exportRatio,buffer=createGraphics(scaleRatio*width,scaleRatio*height),draw();let e=(new Date).getTime();save(buffer,str(e),"png"),scaleRatio=1,buffer=createGraphics(width,height),draw()}