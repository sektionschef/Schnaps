const SWITCH_LOGGING_LEVEL="info";let scaleRatio,exportRatio,buffer,canvas,rescaling_width,rescaling_height,fxhash_number,exportPaper={width:4e3,height:4e3};function preload(){}function setup(){logging.setLevel("info"),scaleDynamically(),buffer=createGraphics(rescaling_width,rescaling_height),canvas=createCanvas(rescaling_width,rescaling_height,WEBGL),logging.debug("Pixel density: "+pixelDensity()),exportRatio/=pixelDensity(),NOISESEED=hashFnv32a(fxhash),logging.info("Noise seed: "+NOISESEED),noiseSeed(NOISESEED),GRIDVISIBLE=!1,RANDOMSPHERES=!0,CANVASAGENT=!0,PALETTE=getRandomFromList(["greyscale","full color complimentary","full color triadic","weak color complimentary","weak color triadic","dark color complimentary","dark color triadic"]),logging.info("PALETTE: "+PALETTE),CANVASROUGHNESS=getRandomFromInterval(60,90),FRONTNUMBERRECTS=7,BACKNUMBERRECTS=7,NUMBERPAINTLAYERS=getRandomFromList([2]),GRIDBRIGHTNESSDIFF=-10,BRUSHLENGTHANDBREADTH=150,BRUSHSTROKESIZE=1,BRUSHBRIGHTNESSNOISE=10,"greyscale"!=PALETTE?BRUSHCOLORNOISE=getRandomFromInterval(15,25):"greyscale"==PALETTE&&(BRUSHCOLORNOISE=0),FIBREBRIGHTNESSNOISE=4,BRUSHANGLENOISE=getRandomFromInterval(PI/80,PI/40),FIBRESTROKESIZENOISE=2,FIBRESTARTLENGTHNOISE=10,FIBREBREADTHNOISE=.2,FIBREROTATIONNOISE=PI/100,FIBREOPACITYNOISEBASE=120,colorPalette=new ColorPalette,color1=colorPalette.primaryColor,color2=colorPalette.secondaryColor,logging.debug("color1:"),logging.debug(color1),logging.debug("color2:"),logging.debug(color2),color1b=saturateColorStatic(brightenColorStatic(color1,GRIDBRIGHTNESSDIFF),GRIDBRIGHTNESSDIFF),color2b=saturateColorStatic(brightenColorStatic(color2,GRIDBRIGHTNESSDIFF),GRIDBRIGHTNESSDIFF),lineColor1=color(color2),lineColor1b=color(color2b),canvasData={custom_width:exportPaper.width,custom_height:exportPaper.height,posX:0,posY:0,colorObject:color(230),opacity:100},agentPaintData1={customWidth:exportPaper.width,customHeight:exportPaper.height,posXImage:0,posYImage:0,colorObject:color(color1),stepSize:3,agentSize:2,opacityLine:2,opacityPoint:.2,lineLength:20,loopSize:100,numberAgents:135},agentPaintData2={customWidth:exportPaper.width,customHeight:exportPaper.height,posXImage:0,posYImage:0,colorObject:color(color2),stepSize:3,agentSize:2,opacityLine:2,opacityPoint:.2,lineLength:20,loopSize:100,numberAgents:135},colorMode(HSB);let o=fromHSBtoRGB(color(hue(color1),20,CANVASROUGHNESS));colorMode(RGB),backgroundSphereData={custom_width:exportPaper.width,custom_height:exportPaper.height,posX:0,posY:0,colorObject:o,margin:-50,fillColorNoise:50,fillColorOpacityMax:10,noStroke:!0,strokeWeight:1,strokeColorNoise:0,strokeOpacityMax:250,numberQuantisizer:4},frontGridData={minSize:500,maxSize:1e3,numberRects:FRONTNUMBERRECTS,firstLevelColors:[color1],secondLevelColors:[color2],lineColor:lineColor1,padding:100},backGridData={minSize:750,maxSize:1500,numberRects:BACKNUMBERRECTS,firstLevelColors:[color2b],secondLevelColors:[color1b],lineColor:lineColor1b,padding:100},CanvasAgentData={posXImage:0,posYImage:0,customWidth:exportPaper.width,customHeight:exportPaper.height,colorObject:color(100),stepSize:10,agentSize:2,opacityLine:5,opacityPoint:5,lineLength:20,loopSize:1e4,numberAgents:5},randomSphereData={minSize:100,maxSize:300,numberSpheres:6,colorObject:color(30,30),padding:50},frontGrid=new IntersectGrid(frontGridData),backGrid=new IntersectGrid(backGridData)}function draw(){ambientLight(255,255,255),ambientMaterial(255),buffer.clear(),buffer.scale(scaleRatio),buffer.background(200),backGrid.show(),frontGrid.show(),buffer.push(),rectMode(CENTER),buffer.fill("pink"),buffer.translate(getRandomFromInterval(exportPaper.width/2,exportPaper.width)/exportRatio,2e3/exportRatio),buffer.rect(0,0,60/exportRatio,60/exportRatio),buffer.pop(),image(buffer,-width/2,-height/2),noLoop(),fxpreview(),logging.info("safety check for diff resolutions - fxrand: "+fxrand())}logging.info("FXHASH: "+fxhash);