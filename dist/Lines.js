class Line{constructor(t,s,i,e,h,n){this.canvas=t,this.orientation=s,this.x=i,this.y=e,this.limit_x=h,this.limit_y=n,this.history=[],this.line_color=distortColor(color(BACKGROUND_COLOR),STROKE_NOISE),this.run_complete=!1,this.stroke_size_dynamic=STROKE_SIZE,this.stroke_speed=getRandomFromInterval(.8,1)}draw(){0==this.run_complete&&("x"==this.orientation?this.x<=this.limit_x?(this.x+=this.stroke_speed,this.y=this.y+getRandomFromInterval(-1*STROKE_DISTORT,STROKE_DISTORT)):this.run_complete=!0:"y"==this.orientation?this.y<=this.limit_y?(this.y+=this.stroke_speed,this.x=this.x+getRandomFromInterval(-1*STROKE_DISTORT,STROKE_DISTORT)):this.run_complete=!0:"xy"==this.orientation?this.x<=this.limit_x&&this.y<=this.limit_y?(this.x+=this.stroke_speed,this.y+=this.stroke_speed,this.x=this.x+getRandomFromInterval(-1*STROKE_DISTORT,STROKE_DISTORT),this.y=this.y+getRandomFromInterval(-1*STROKE_DISTORT,STROKE_DISTORT)):this.run_complete=!0:"yx"==this.orientation&&(this.x<=this.limit_x&&this.y>=this.limit_y?(this.x+=this.stroke_speed,this.y-=this.stroke_speed,this.x=this.x+getRandomFromInterval(-1*STROKE_DISTORT,STROKE_DISTORT),this.y=this.y+getRandomFromInterval(-1*STROKE_DISTORT,STROKE_DISTORT)):this.run_complete=!0),frameCount%5==0&&(this.stroke_size_dynamic+=this.stroke_size_dynamic*getRandomFromInterval(-.05,.05)),this.canvas.push(),this.canvas.noStroke(),this.canvas.fill(this.line_color),frameCount%getRandomFromInterval(1,2)==0||this.canvas.circle(this.x,this.y,this.stroke_size_dynamic),this.canvas.pop())}}class Lines{constructor(t,s){this.canvas=t,this.x_start=0,this.y_start=0,this.x_stop=this.canvas.width,this.y_stop=this.canvas.height,this.distance_between_lines=s,this.bodies=[],this.all_lines_complete=!1;let i=getRandomFromList(["x","y","xy","yx","blank"]);if(logging.debug(i+" axis randomly chosen."),"x"==i){this.count_lines=(this.y_stop-this.y_start)/this.distance_between_lines;for(let t=0;t<this.count_lines;t++)this.bodies.push(new Line(this.canvas,i,this.x_start,this.y_start+this.distance_between_lines*t,this.x_stop,this.y_stop))}else if("y"==i){this.count_lines=(this.x_stop-this.x_start)/this.distance_between_lines;for(let t=0;t<this.count_lines;t++)this.bodies.push(new Line(this.canvas,i,this.x_start+this.distance_between_lines*t,this.y_start,this.x_stop,this.y_stop))}else if("xy"==i){this.count_lines=(this.x_stop-this.x_start)/this.distance_between_lines;for(let t=0;t<this.count_lines;t++)this.bodies.push(new Line(this.canvas,i,this.x_start+this.distance_between_lines*t,this.y_start,this.x_stop,this.y_stop));this.count_lines=(this.y_stop-this.y_start)/this.distance_between_lines;for(let t=1;t<this.count_lines;t++)this.bodies.push(new Line(this.canvas,i,this.x_start,this.y_start+this.distance_between_lines*t,this.x_stop,this.y_stop))}else if("yx"==i){this.count_lines=(this.x_stop-this.x_start)/this.distance_between_lines;for(let t=0;t<this.count_lines;t++)this.bodies.push(new Line(this.canvas,i,this.x_start+this.distance_between_lines*t,this.y_stop,this.x_stop,this.y_start));this.count_lines=(this.y_stop-this.y_start)/this.distance_between_lines;for(let t=1;t<this.count_lines;t++)this.bodies.push(new Line(this.canvas,i,this.x_start,this.y_stop-this.distance_between_lines*t,this.x_stop,this.y_start))}}draw_lines(){for(let t of this.bodies)t.draw();this.check_all_complete()}check_all_complete(){if(0==this.all_lines_complete)for(var t of(this.all_lines_complete=!0,this.bodies))0==t.run_complete&&(this.all_lines_complete=!1)}}