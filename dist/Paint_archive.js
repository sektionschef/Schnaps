class Paint{constructor(t,s,i,r,h){this.width=t,this.height=s,this.posX=i,this.posY=r,this.border=35,this.area=this.width*this.height,this.buffer=createGraphics(this.width+2*this.border,this.height+2*this.border),this.color_master=h,this.brush_size=20,this.counter_max=100,this.primaryStrokeWeight=2,this.secondaryStrokeWeight=1,this.brushTightness=1,this.counter=0,this.area_fully_painted=!1}show(t){this.loop_1=constrain(this.area/1e3,100,800),this.loop_2=constrain(this.area/250,50,400),this.paint_layer(this.loop_1,this.primaryStrokeWeight,2),this.paint_layer(this.loop_2,this.secondaryStrokeWeight,10),void 0!==t&&this.buffer.image(t,0,0,this.buffer.width,this.buffer.height),this.counter==this.counter_max&&(this.area_fully_painted=!0)}paint_layer(t,s,i){if(this.brush_loops=t,this.stroke_size=s,this.color_noise=i,this.brightness_noise=30,this.opacity_noise=250,this.counter<=this.counter_max){this.color=lessenColor(brightenColor(distortColor(color(this.color_master),this.color_noise),this.brightness_noise),this.opacity_noise),this.counter+=1,this.buffer.strokeWeight(this.stroke_size),this.buffer.stroke(this.color),this.buffer.noFill();let t=getRandomFromInterval(this.border,this.width+this.border),s=getRandomFromInterval(this.border,this.height+this.border);this.buffer.curveTightness(this.brushTightness),this.buffer.beginShape(),this.buffer.curveVertex(t,s),this.buffer.curveVertex(t,s),this.current_x=t,this.current_y=s;for(var r=0;r<this.brush_loops;r++)fxrand()<.8?(this.current_x=constrain(this.current_x+getRandomFromInterval(-this.brush_size,this.brush_size),this.border,this.width+this.border),this.current_y=constrain(this.current_y+getRandomFromInterval(-this.brush_size,this.brush_size),this.border,this.height+this.border)):(this.current_x=constrain(this.current_x+getRandomFromInterval(-this.brush_size,this.brush_size),0,this.width+2*this.border),this.current_y=constrain(this.current_y+getRandomFromInterval(-this.brush_size,this.brush_size),0,this.height+2*this.border)),this.buffer.curveVertex(this.current_x,this.current_y);this.buffer.curveVertex(this.current_x,this.current_y),this.buffer.endShape()}}}